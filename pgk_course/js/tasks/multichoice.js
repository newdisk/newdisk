!function(e,a,s){"use strict";function t(){g.on("click",l).addClass("disabled").attr("disabled",!0),h.on("click",d);var e="";u=s.shuffle(u);for(var a=0;a<u.length;a++)e+='<div class="page__item-wrapper1"><div class="page__item-wrapper2"><div class="page__item" right="'+u[a].right+'"><div class="page__item-before"></div><p>'+u[a].label+"</p>",e+=u[a].image.length>0?'<img src="'+u[a].image+'" class="page__item-wrapper--image"></div></div></div>':"</div></div></div>";f.empty().append(e),n=o.find(".page__item"),n.on("click",i)}function i(a){if(!k){g.attr("disabled",!1).removeClass("disabled"),e(this).hasClass("selected")?e(this).removeClass("selected"):e(this).addClass("selected");var s=!1;n.each(function(a,t){e(t).hasClass("selected")&&(s=!0)}),s?g.attr("disabled",!1).removeClass("disabled"):g.attr("disabled",!0).addClass("disabled")}}function r(){g.off("click"),h.off("click"),n.off("click")}function d(){k=!1,r(),t()}function l(){k=!0,n.addClass("disabled"),g.attr("disabled",!0).addClass("disabled");var s=!0,t=0,i=0;n.each(function(a,r){"true"===e(r).attr("right")&&i++,e(r).hasClass("selected")&&"true"!==e(r).attr("right")&&(s=!1),e(r).hasClass("selected")&&"true"===e(r).attr("right")&&t++}),s&&t==i?(b=1,v=100,C=p[0],c()):(b=-1,v=0,C=p[m],m++,m==p.length&&(v=2,m=1,_=!0,c())),a.sendResult(b,v,C,_)}function c(){n.each(function(a,s){e(s).removeClass("selected"),"true"==e(s).attr("right")&&e(s).addClass("show-right")})}var n,o=e(parent.frames.myframe.document),f=o.find("#task-body"),u=a.structure.pages[a.bookmark].answers,p=a.structure.pages[a.bookmark].messages,g=o.find("#btn--answer"),h=o.find("#btn--restart"),m=1,v=0,b=-1,C="",_=!1,k=!1;a.coursePage={play:function(){t()},stop:function(){r(),a.coursePage=null},restart:function(){d()}}}(parent.jQuery,parent.ctrl,parent._),parent.ctrl.coursePage.play();